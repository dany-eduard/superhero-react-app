{"version":3,"sources":["pages/Habilidades/Habilidades.tsx","components/CardHero/ProgressBar.tsx","components/CardHero/CardHero.tsx","constants/constantsHero.ts"],"names":["Habilidades","heroesList","useSelector","state","superHeroes","list","useState","isLoading","setIsLoading","alertDanger","setAlertDanger","sortedHeroesList","setSortedHeroesList","skill","sortOption","selectedOption","setSelectedOption","handleSelectChange","name","e","className","role","isClearable","onChange","options","SelectPowerstatsOptions","placeholder","value","SortOptions","type","id","onClick","setTimeout","sort","property","sortedSkill","array","nums","flatMap","curr","powerstats","match","a","b","filter","num","strings","string","localeCompare","sortPropertyArray","sortedHeroes","forEach","hero","includes","push","sortHeroes","Loader","length","map","CardHero","fullName","biography","alignment","appearance","image","showPowerStats","href","ProgressBar","progress","title","ariaMax","style","width","defaultProps","index","props","showAppearance","src","url","alt","Number","combat","durability","intelligence","power","speed","strength","gender","race","height","weight","label","SelectAppearanceOptions"],"mappings":"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","file":"static/js/5.b78d1d9c.chunk.js","sourcesContent":["import { Hero } from 'interfaces/Hero.interface'\nimport { OSelect } from 'interfaces/Geneal.interface'\nimport { RootState } from 'store'\nimport { SelectPowerstatsOptions, SortOptions } from 'constants/constantsHero'\nimport { useSelector } from 'react-redux'\nimport { useState } from 'react'\nimport CardHero from 'components/CardHero'\nimport Loader from 'components/Loader'\nimport Select, { SingleValue } from 'react-select'\n\ninterface SortSelect extends OSelect {\n  value: 'asc' | 'desc' | string\n}\n\ninterface SelectedOptions {\n  skill: OSelect | null\n  sortOption: SortSelect | null\n}\n\nconst Habilidades = () => {\n  const heroesList = useSelector((state: RootState) => state.superHeroes.list)\n  const [isLoading, setIsLoading] = useState(false)\n  const [alertDanger, setAlertDanger] = useState(false)\n  const [sortedHeroesList, setSortedHeroesList] = useState([] as Hero[] as any[])\n  const [selectedOption, setSelectedOption] = useState<SelectedOptions>({\n    skill: null,\n    sortOption: null,\n  })\n\n  const handleSelectChange = (name: string) => (e: SingleValue<OSelect | null>) => {\n    setSelectedOption({ ...selectedOption, [name]: e })\n  }\n\n  const sortPropertyArray = (array: any[], property: string, sortOption: 'asc' | 'desc') => {\n    /**\n     * flatMap: Devuelve una versión aplanada del arreglo.\n     * match con regex: Obtiene las ocurrencias de una expresión regular.\n     * sort: Devuelve un arreglo ordenado.\n     * filter: Crea un nuevo arreglo con todos los elementos que cumplan una condición.\n     * spreat: Permite a un elemento iterable ser expandido (concatenación para esta solución).\n     */\n    const nums = array\n      .flatMap((curr: any) => curr.powerstats[property].match(/(\\d+)/g))\n      .sort((a: any, b: any) => (sortOption === 'asc' ? a - b : b - a))\n      .filter((num: any) => num)\n\n    const strings = array\n      .flatMap((curr: any) => curr.powerstats[property].match(/^[A-Za-z]+$/))\n      .filter((string: any) => string)\n      .sort((a: any, b: any) => a.localeCompare(b))\n\n    return sortOption === 'asc' ? [...strings, ...nums] : [...nums, ...strings]\n  }\n\n  const sortHeroes = (property: string, sortedSkill: string[] | number[]) => {\n    const sortedHeroes: Hero[] = []\n    sortedSkill.forEach((skill) => {\n      heroesList.forEach((hero: Hero) => {\n        if (!sortedHeroes.includes(hero) && hero.powerstats[property] === skill) {\n          sortedHeroes.push(hero)\n        }\n      })\n    })\n\n    return sortedHeroes\n  }\n\n  const validateFilters = () => {\n    if (!selectedOption.skill || !selectedOption.sortOption) {\n      setAlertDanger(true)\n      setTimeout(() => {\n        setAlertDanger(false)\n      }, 4000)\n      return false\n    }\n    return true\n  }\n\n  const handleFilter = () => {\n    if (!validateFilters()) return\n    setIsLoading(true)\n    const { skill, sortOption } = selectedOption\n    const sort = sortOption ? sortOption.value : 'asc'\n    const property = skill ? skill.value : 'intelligence'\n    if (skill && sortOption) {\n      if (sort === 'asc' || sort === 'desc') {\n        const sortedSkill = sortPropertyArray(heroesList, property, sort)\n        const sortedHeroes = sortHeroes(property, sortedSkill)\n        setSortedHeroesList(sortedHeroes)\n      }\n    }\n    setIsLoading(false)\n  }\n\n  return (\n    <div className=\"custom-container\">\n      <h2>Habilidades</h2>\n      <p>\n        Desde este módulo puedes filtrar por habilidad en orden ascendente o descendente la lista de Super Héroes\n        previamente cargada en el Inicio <small>(dashboard)</small>.\n      </p>\n\n      {alertDanger && (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          Debe seleccionar una habilidad y una opción de ordenamiento para poder filtrar.\n        </div>\n      )}\n\n      <div className=\"row\">\n        <div className=\"col-md-5\">\n          <Select\n            className=\"mt-1 mb-1\"\n            isClearable\n            onChange={handleSelectChange('skill')}\n            options={SelectPowerstatsOptions}\n            placeholder=\"Selecciona una habilidad\"\n            value={selectedOption.skill}\n          />\n        </div>\n        <div className=\"col-md-5\">\n          <Select\n            className=\"mt-1 mb-1\"\n            isClearable\n            onChange={handleSelectChange('sortOption')}\n            options={SortOptions}\n            placeholder=\"Selecciona la forma de ordenar\"\n            value={selectedOption.sortOption}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <div className=\"d-grid gap-2 mt-1 mb-1\">\n            <button type=\"button\" id=\"btn-order-powerstats\" className=\"btn btn-primary\" onClick={handleFilter}>\n              Filtrar\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div className=\"mt-5 mb-3\">\n          <div className=\"row\">\n            {sortedHeroesList.length > 0 &&\n              sortedHeroesList.map((hero) => (\n                <div className=\"col-md-4\" key={hero.id}>\n                  <CardHero\n                    name={hero.name}\n                    powerstats={hero.powerstats}\n                    fullName={hero.biography[`full-name`]}\n                    alignment={hero.biography.alignment}\n                    appearance={hero.appearance}\n                    image={hero.image}\n                    showPowerStats\n                  />\n                </div>\n              ))}\n          </div>\n        </div>\n      )}\n      {heroesList.length === 0 && (\n        <div className=\"alert alert-warning\" role=\"alert\">\n          No existen héroes en la lista. Vuelva al{' '}\n          <a href=\"/superhero-react-app\" className=\"alert-link\">\n            Inicio\n          </a>{' '}\n          para precargar algunos.\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Habilidades\n","import PropTypes from 'prop-types'\n\ninterface ProgressBarProps {\n  progress: number\n  title?: string\n  ariaMax?: number\n}\n\nconst ProgressBar = ({ progress, title, ariaMax }: ProgressBarProps) => (\n  <div className=\"progress mt-1\">\n    <div\n      className=\"progress-bar\"\n      role=\"progressbar\"\n      style={{ width: `${progress}%` }}\n      aria-valuenow={progress}\n      aria-valuemin={0}\n      aria-valuemax={ariaMax}\n    >\n      {`${progress}% ${title}`}\n    </div>\n  </div>\n)\n\nProgressBar.propTypes = {\n  progress: PropTypes.number.isRequired,\n  title: PropTypes.string,\n  ariaMax: PropTypes.number,\n}\n\nProgressBar.defaultProps = {\n  title: '',\n  ariaMax: 100,\n}\n\nexport default ProgressBar\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport { Appearance, Image, Powerstats } from 'interfaces/Hero.interface'\nimport ProgressBar from './ProgressBar'\n\ninterface CardProps {\n  alignment: string\n  appearance: Appearance | any\n  fullName: string\n  image: Image\n  name: string\n  powerstats: Powerstats\n  showAppearance?: boolean\n  showPowerStats?: boolean\n}\n\nconst index = (props: CardProps) => {\n  const {\n    alignment,\n    appearance,\n    fullName,\n    image,\n    name,\n    powerstats,\n    showAppearance = false,\n    showPowerStats = false,\n  } = props\n  return (\n    <div className=\"card p-3 mb-2\">\n      <div className=\"d-flex justify-content-between\">\n        <div className=\"d-flex flex-row align-items-center\">\n          <div className=\"avatar\">\n            <img className=\"img-fluid\" src={image.url} alt={`${name}.profile`} />\n          </div>\n          <div className=\"ms-2 c-details\">\n            <h6 className=\"mb-0\">{name}</h6> <span>{fullName}</span>\n          </div>\n        </div>\n        <div className={`alignment-container fst-italic ${alignment === 'good' ? 'text-success' : 'text-warning'}`}>\n          {' '}\n          <span>{alignment}</span>{' '}\n        </div>\n      </div>\n      {showPowerStats && (\n        <div>\n          <div className=\"mt-3\">\n            <span>Combate:</span> <ProgressBar progress={Number(powerstats.combat) || 0} />\n            <span>Durabilidad:</span> <ProgressBar progress={Number(powerstats.durability) || 0} ariaMax={80} />\n            <span>Inteligencia:</span> <ProgressBar progress={Number(powerstats.intelligence) || 0} ariaMax={80} />\n            <span>Poder:</span> <ProgressBar progress={Number(powerstats.power) || 0} ariaMax={80} />\n            <span>Velocidad:</span> <ProgressBar progress={Number(powerstats.speed) || 0} ariaMax={80} />\n            <span>Fuerza:</span> <ProgressBar progress={Number(powerstats.strength) || 0} ariaMax={80} />\n          </div>\n        </div>\n      )}\n      {showAppearance && (\n        <div className=\"mt-3\">\n          <hr />\n          <h5 className=\"text-primary\">Apariencia</h5>\n          <table className=\"table table-sm\">\n            <tbody>\n              <tr>\n                <td className=\"fst-italic\">Genero</td>\n                <td className=\"fw-light\">{appearance.gender}</td>\n              </tr>\n              <tr>\n                <td className=\"fst-italic\">Raza</td>\n                <td className=\"fw-light\">{appearance.race}</td>\n              </tr>\n              <tr>\n                <td className=\"fst-italic\">Altura</td>\n                <td className=\"fw-light\">{appearance.height[1]}</td>\n              </tr>\n              <tr>\n                <td className=\"fst-italic\">Peso</td>\n                <td className=\"fw-light\">{appearance.weight[1]}</td>\n              </tr>\n              <tr>\n                <td className=\"fst-italic\">Color de ojos</td>\n                <td className=\"fw-light\">{appearance['eye-color']}</td>\n              </tr>\n              <tr>\n                <td className=\"fst-italic\">Color de pelo</td>\n                <td className=\"fw-light\">{appearance['hair-color']}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default index\n","export const SelectPowerstatsOptions = [\n  {\n    label: 'Inteligencia',\n    value: 'intelligence',\n  },\n  {\n    label: 'Fuerza',\n    value: 'strength',\n  },\n  {\n    label: 'Velocidad',\n    value: 'speed',\n  },\n  {\n    label: 'Durabilidad',\n    value: 'durability',\n  },\n  {\n    label: 'Poder',\n    value: 'power',\n  },\n  {\n    label: 'Combate',\n    value: 'combat',\n  },\n]\n\nexport const SortOptions = [\n  {\n    label: 'Ascendente',\n    value: 'asc',\n  },\n  {\n    label: 'Descendente',\n    value: 'desc',\n  },\n]\n\nexport const SelectAppearanceOptions = [\n  {\n    label: 'Genero',\n    value: 'gender',\n  },\n  {\n    label: 'Raza',\n    value: 'race',\n  },\n  {\n    label: 'Altura (cm)',\n    value: 'height',\n  },\n  {\n    label: 'Peso (kg)',\n    value: 'weight',\n  },\n  {\n    label: 'Color de ojos',\n    value: 'eye-color',\n  },\n  {\n    label: 'Color de pelo',\n    value: 'hair-color',\n  },\n]\n"],"sourceRoot":""}